<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>WebUpdate: How to update the WebUpdater</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.2 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<div class="nav">
<a class="el" href="docs_8txt.html">docs.txt</a></div>
<h1><a class="anchor" name="updateupdater">How to update the WebUpdater</a></h1>First, look at <a class="el" href="faq.html">The Frequently Asked Questions about WebUpdate</a> and in particular to the first question in design section. As you can understand, there's no good (i.e. reliable &amp; cross-platform) to replace the executable file of a running program. So, WebUpdater is a program separed from the application-to-update. This makes it easy to update the application-to-update but what about the WebUpdater itself ? How can it be updated, in case a new version is released ?<p>
The answer is: using the &lt;extract&gt; action and a little trick in the application-to-update. If you look at the <a class="el" href="remotedtd.html">The Remote XML WebUpdate DTD</a> you will note in the &lt;extract&gt; action tag documentation that when extracting files from compressed archives, it always extracts the files named <code>"webupdater.exe"</code> (on win32) or <code>"webupdater"</code> (on unix) as <code>"_webupdater.exe"</code> (on win32) or <code>"_webupdater"</code> (on unix).<p>
The final replacement takes place when the application-to-update runs again: infact it should include a check just after initialization for the existence of a <code>"_webupdater(.exe)"</code> file. If such file is found, then it means that during the last update, a newer version of the WebUpdater has been downloaded: the application just needs to remove the old <code>"webupdater(.exe)"</code> file and then rename the <code>"_webupdater(.exe)"</code> file into <code>"webupdater(.exe)"</code>.<p>
That's it: an easy and reliable way to update the updater. You can found the wxWidgets-based code that does the check for the <code>"_webupdater(.exe)"</code> file, in a cross-platform way, in the <code>advanced</code> sample. <hr size="1"><address style="align: right;"><small>Generated on Sat Nov 12 14:55:57 2005 for WebUpdate by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.2 </small></address>
</body>
</html>
